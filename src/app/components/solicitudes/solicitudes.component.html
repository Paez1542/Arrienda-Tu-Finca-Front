<h2 class="titulo-solicitudes">Solicitudes de Arriendo</h2>

<div class="estado-filtros">
  <button (click)="filtrarEstado('porAceptar')">Por Aceptar</button>
  <button (click)="filtrarEstado('aceptadas')">Aceptadas</button>
  <button (click)="filtrarEstado('rechazadas')">Rechazadas</button>
  <button (click)="filtrarEstado('pagadas')">Pagadas</button>
  <button (click)="filtrarEstado('porCalificar')">Por Calificar</button>
  <button (click)="filtrarEstado('finalizadas')">Finalizadas</button>
</div>

<div class="solicitud-lista">
  <div class="solicitud-card" *ngFor="let solicitud of solicitudesFiltradas">
    <div class="solicitud-header">
      <span class="solicitud-estado {{ estadoMap[solicitud.estado] }}">
        {{ estadoMap[solicitud.estado] | uppercase }}
      </span>
    </div>
    <div class="solicitud-body">
      <p><strong>ID Finca:</strong> {{ solicitud.idFinca }}</p>
      <p><strong>ID Arrendador:</strong> {{ solicitud.idArrendador }}</p>
      <p><strong>Personas:</strong> {{ solicitud.cantpersonas }}</p>
      <p><strong>Valor:</strong> ${{ solicitud.valor }}</p>
      <p><strong>Llegada:</strong> {{ solicitud.fechallegada | date }}</p>
      <p><strong>Salida:</strong> {{ solicitud.fechasalida | date }}</p>
    </div>
    <div class="solicitud-actions">
      <button *ngIf="solicitud.estado === 0" (click)="aceptarSolicitud(solicitud)" class="btn-aceptar">Aceptar</button>
      <button *ngIf="solicitud.estado === 0" (click)="rechazarSolicitud(solicitud)" class="btn-rechazar">Rechazar</button>
      <button *ngIf="solicitud.estado === 4" (click)="calificarSolicitud(solicitud)" class="btn-calificar">Calificar</button>
    </div>
  </div>
</div>
